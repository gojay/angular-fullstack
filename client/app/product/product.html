<div loading-container="table.settings().$loading">
  <table class="table table-striped table-responsive table-hover" ng-table="vm.table" show-filter="true">
    <tbody ng-repeat="model in $data">
      <tr>
        <td data-title="'SKU'" filter="{ 'sku': 'text' }" sortable="'sku'">
          <strong ng-bind="model.sku"></strong>
        </td>
        <td data-title="'Name'" filter="{ 'name': 'text' }" sortable="'name'">
          <span ng-bind="model.name"></span>
        </td> 
        <td class="text-center" data-title="'Materials'">
          <p ng-repeat="material in model.materials">
            <span class="label" 
              ng-click="vm.showMaterial(material._material.name, material._material)"
              ng-class="{undefined:'label-primary', true:'label-primary', false:'label-danger'}[material._material.active]">
              {{material._material.name}}
            </span>
          <p>
        </td>
        <td data-title="'Price'">
          <span>{{ model.price | currency: 'Rp ' }}</span>
        </td>
        <td data-title="'Stock'" sortable="'stock'">
          <span ng-bind="model.stock"></span>
        </td>
        <td data-title="'Created'" sortable="'created'" class="align-center">
          <span>{{ model.created | amDateFormat:'MM/DD/YYYY HH:mm:ss' }}</span>
        </td>
        <td class="align-right">
          <span class="btn-group">
            <button class="btn btn-sm btn-default" ng-click="vm.showProduct(model.name, model)">
              <i class="fa fa-eye"></i>
            </button>
            <button class="btn btn-sm btn-info" ng-click="app.$state.go('product.edit', { id: model._id })">
              <i class="fa fa-pencil"></i>
            </button>
            <button class="btn btn-sm btn-danger" ng-click="vm.deleteProduct('', model)">
              <i class="fa fa-trash"></i>
            </button>
          </span><!-- .btn-group -->
        </td>
      </tr>
    </tbody>
  </table>
</div>
